{"ast":null,"code":"var _jsxFileName = \"F:\\\\codegym\\\\MD5\\\\QLBH\\\\fe\\\\src\\\\pages\\\\product\\\\BuyNow.js\",\n  _s = $RefreshSig$();\nimport { Field, Form, Formik } from \"formik\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { findByIdProduct } from \"../../services/productsService\";\nimport { addCart, addOrder } from \"../../services/orderService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function BuyNow() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [quantity, setQuantity] = useState();\n  const user = useSelector(state => {\n    return state.user.currentUser;\n  });\n  const product = useSelector(state => {\n    return state.products.product;\n  });\n  useEffect(() => {\n    dispatch(findByIdProduct(id)).then(value => {});\n  }, []);\n  const handleBuy = values => {\n    let order = {\n      idUser: user.idUser,\n      time: values.time,\n      totalPoint: quantity * product.price,\n      status: 'loading',\n      receiver: values.receiver,\n      address: values.address,\n      phone: values.phone\n    };\n    dispatch(addOrder(order)).then(e => {\n      let cart = {\n        quantity: quantity,\n        idProduct: id,\n        total: quantity * product.price,\n        idOrder: e.payload.id\n      };\n      dispatch(addCart(cart));\n      navigate('/home');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 12\n      }, this), product.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 12\n      }, this), product.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Total quantity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 12\n      }, this), product.totalQuantity]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 12\n      }, this), product.nameCategory]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        receiver: '',\n        time: '',\n        address: '',\n        phone: ''\n      },\n      onSubmit: values => {\n        handleBuy(values);\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: 1,\n          placeholder: 1,\n          onClick: e => {\n            setQuantity(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 38\n        }, this), quantity ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"totalPoint: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 24\n          }, this), quantity * product.price, \" $\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"totalPoint: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 24\n          }, this), product.price, \" $\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          type: 'text',\n          name: 'receiver',\n          placeholder: 'receiver'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          type: 'text',\n          name: 'phone',\n          placeholder: 'phone'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          type: 'date',\n          name: 'time'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          type: 'text',\n          name: 'address',\n          placeholder: 'address'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Buy now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(BuyNow, \"ICYQLfwFiPaNECupQmSt5tOHa+4=\", false, function () {\n  return [useParams, useDispatch, useNavigate, useSelector, useSelector];\n});\n_c = BuyNow;\nvar _c;\n$RefreshReg$(_c, \"BuyNow\");","map":{"version":3,"names":["Field","Form","Formik","useDispatch","useSelector","useNavigate","useParams","useEffect","useState","findByIdProduct","addCart","addOrder","jsxDEV","_jsxDEV","Fragment","_Fragment","BuyNow","_s","id","dispatch","navigate","quantity","setQuantity","user","state","currentUser","product","products","then","value","handleBuy","values","order","idUser","time","totalPoint","price","status","receiver","address","phone","e","cart","idProduct","total","idOrder","payload","children","fileName","_jsxFileName","lineNumber","columnNumber","src","image","name","totalQuantity","nameCategory","initialValues","onSubmit","type","min","placeholder","onClick","target","_c","$RefreshReg$"],"sources":["F:/codegym/MD5/QLBH/fe/src/pages/product/BuyNow.js"],"sourcesContent":["import {Field, Form, Formik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {findByIdProduct} from \"../../services/productsService\";\r\nimport {addCart, addOrder} from \"../../services/orderService\";\r\n\r\nexport default function BuyNow() {\r\n    const {id} = useParams();\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const [quantity,setQuantity] = useState()\r\n\r\n    const user = useSelector(state=>{\r\n        return state.user.currentUser\r\n    })\r\n    const product = useSelector(state => {\r\n        return state.products.product\r\n    });\r\n    useEffect(() => {\r\n        dispatch(findByIdProduct(id)).then((value) => {\r\n        });\r\n    }, []);\r\n\r\n    const handleBuy = (values)=>{\r\n        let order = {\r\n            idUser: user.idUser,\r\n            time: values.time,\r\n            totalPoint: quantity * product.price,\r\n            status: 'loading',\r\n            receiver: values.receiver,\r\n            address: values.address,\r\n            phone: values.phone\r\n        };\r\n\r\n        dispatch(addOrder(order)).then((e)=>{\r\n            let cart = {\r\n                quantity: quantity,\r\n                idProduct: id,\r\n                total: quantity * product.price,\r\n                idOrder: e.payload.id\r\n            };\r\n            dispatch(addCart(cart));\r\n            navigate('/home')\r\n\r\n        })\r\n    }\r\n\r\nreturn(\r\n    <>\r\n        <h1>Product</h1>\r\n        <img  src={product.image}></img>\r\n        <p><span>Name</span>{product.name}</p>\r\n        <p><span>Price</span>{product.price}</p>\r\n        <p><span>Total quantity</span>{product.totalQuantity}</p>\r\n        <p><span>Category</span>{product.nameCategory}</p>\r\n        <Formik\r\n            initialValues={{\r\n                receiver:'',\r\n                time:'',\r\n                address:'',\r\n                phone:''\r\n            }}\r\n        onSubmit={(values)=>{\r\n            handleBuy(values);\r\n        }}>\r\n            <Form>\r\n                <span>Quantity</span><input type=\"number\" min={1} placeholder={1} onClick={(e)=>{\r\n                    setQuantity(e.target.value)\r\n                }}/>\r\n                {quantity ?\r\n                    <p><span>totalPoint: </span>{quantity * product.price} $</p>:\r\n                    <p><span>totalPoint: </span>{product.price} $</p>\r\n                }\r\n\r\n                <Field type={'text'} name={'receiver'} placeholder={'receiver'}/>\r\n                <Field type={'text'} name={'phone'} placeholder={'phone'}/>\r\n                <Field type={'date'} name={'time'}/>\r\n                <Field type={'text'} name={'address'} placeholder={'address'}/>\r\n                <button>Buy now</button>\r\n            </Form>\r\n        </Formik>\r\n    </>\r\n)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}